<!DOCTYPE html>
<html lang="en"><head><title>Nginx Code - Upstream Connect Timeout</title><meta charset="utf-8"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM Plex Mono&amp;family=Schibsted Grotesk:wght@400;700&amp;family=Source Sans Pro:ital,wght@0,400;0,600;1,400;1,600&amp;display=swap"/><link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin="anonymous"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="og:site_name" content="🪴 Zero's Garden"/><meta property="og:title" content="Nginx Code - Upstream Connect Timeout"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Nginx Code - Upstream Connect Timeout"/><meta name="twitter:description" content="Searching for a “stack trace” Situation 1: upstream server did not reply to our SYN within proxy_connect_timeout .. upstream timed out (110: Connection timed out) while connection to upstream, .."/><meta property="og:description" content="Searching for a “stack trace” Situation 1: upstream server did not reply to our SYN within proxy_connect_timeout .. upstream timed out (110: Connection timed out) while connection to upstream, .."/><meta property="og:image:type" content="image/webp"/><meta property="og:image:alt" content="Searching for a “stack trace” Situation 1: upstream server did not reply to our SYN within proxy_connect_timeout .. upstream timed out (110: Connection timed out) while connection to upstream, .."/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:image:url" content="https://l2dy.github.io/static/og-image.png"/><meta name="twitter:image" content="https://l2dy.github.io/static/og-image.png"/><meta property="og:image" content="https://l2dy.github.io/static/og-image.png"/><meta property="twitter:domain" content="l2dy.github.io"/><meta property="og:url" content="https://l2dy.github.io/notes/Nginx/Nginx-Code---Upstream-Connect-Timeout"/><meta property="twitter:url" content="https://l2dy.github.io/notes/Nginx/Nginx-Code---Upstream-Connect-Timeout"/><link rel="icon" href="../../static/icon.png"/><meta name="description" content="Searching for a “stack trace” Situation 1: upstream server did not reply to our SYN within proxy_connect_timeout .. upstream timed out (110: Connection timed out) while connection to upstream, .."/><meta name="generator" content="Quartz"/><link href="../../index.css" rel="stylesheet" type="text/css" spa-preserve/><link href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" rel="stylesheet" type="text/css" spa-preserve/><script src="../../prescript.js" type="application/javascript" spa-preserve></script><script type="application/javascript" spa-preserve>const fetchData = fetch("../../static/contentIndex.json").then(data => data.json())</script></head><body data-slug="notes/Nginx/Nginx-Code---Upstream-Connect-Timeout"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h2 class="page-title"><a href="../..">🪴 Zero's Garden</a></h2><div class="spacer mobile-only"></div><div class="search"><button class="search-button" id="search-button"><p>Search</p><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title>Search</title><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg></button><div id="search-container"><div id="search-space"><input autocomplete="off" id="search-bar" name="search" type="text" aria-label="Search for something" placeholder="Search for something"/><div id="search-layout" data-preview="true"></div></div></div></div><button class="darkmode" id="darkmode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35" xml:space="preserve" aria-label="Dark mode"><title>Dark mode</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100" xml:space="preserve" aria-label="Light mode"><title>Light mode</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></button><div class="explorer desktop-only"><button type="button" id="explorer" data-behavior="collapse" data-collapsed="collapsed" data-savestate="true" data-tree="[{&quot;path&quot;:&quot;maps&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/AI&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/CLI&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/CLI/Bash&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/CLI/git&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/Cloud&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/Cloud/AWS&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/Cloud/Azure&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/Cloud/Google-Cloud&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/Cloud/Oracle-Cloud&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/Computer-Science&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/Database&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/Economics&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/Emacs&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/Emacs/doom&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/Emacs/mu4e&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/English-Terms&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/Health&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/HTTP&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/Kubernetes&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/Life&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/MacPorts&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/MacPorts/base&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/Media&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/Network&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/Nginx&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/Nginx/proxy&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/Note-Making&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/Observability&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/Operating-System&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/Operating-System/FreeBSD&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/Operating-System/Linux&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/Operating-System/macOS&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/Operating-System/NixOS&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/Operating-System/OpenWRT&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/Privacy&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/Self-Hosting&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/Software&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/SRE&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/Startup&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/Storage&quot;,&quot;collapsed&quot;:true}]" aria-controls="explorer-content" aria-expanded="false"><h2>Explorer</h2><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="explorer-content"><ul class="overflow" id="explorer-ul"><li><div class="folder-outer open"><ul style="padding-left:0;" class="content" data-folderul><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="maps"><button class="folder-button"><span class="folder-title">maps</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="maps"><li><a href="../../maps/AI-Productivity-Tool-Map" data-for="maps/AI-Productivity-Tool-Map">AI Productivity Tool Map</a></li><li><a href="../../maps/AWS-Map" data-for="maps/AWS-Map">AWS Map</a></li><li><a href="../../maps/Computer-Networking-Map" data-for="maps/Computer-Networking-Map">Computer Networking Map</a></li><li><a href="../../maps/DevOps-Roadmap" data-for="maps/DevOps-Roadmap">DevOps Roadmap</a></li><li><a href="../../maps/FreeBSD-Map" data-for="maps/FreeBSD-Map">FreeBSD Map</a></li><li><a href="../../maps/Google-Cloud-Map" data-for="maps/Google-Cloud-Map">Google Cloud Map</a></li><li><a href="../../maps/Linux-Map" data-for="maps/Linux-Map">Linux Map</a></li><li><a href="../../maps/Microsoft-Azure-Map" data-for="maps/Microsoft-Azure-Map">Microsoft Azure Map</a></li><li><a href="../../maps/Nginx-Map" data-for="maps/Nginx-Map">Nginx Map</a></li><li><a href="../../maps/Package-Managers-Map" data-for="maps/Package-Managers-Map">Package Managers Map</a></li><li><a href="../../maps/Presentation-Skills-Map" data-for="maps/Presentation-Skills-Map">Presentation Skills Map</a></li><li><a href="../../maps/Public-Cloud-Map" data-for="maps/Public-Cloud-Map">Public Cloud Map</a></li><li><a href="../../maps/Self-Hosting-Map" data-for="maps/Self-Hosting-Map">Self-Hosting Map</a></li><li><a href="../../maps/SRE-Map" data-for="maps/SRE-Map">SRE Map</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes"><button class="folder-button"><span class="folder-title">notes</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/AI"><button class="folder-button"><span class="folder-title">AI</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/AI"><li><a href="../../notes/AI/ChatGPT" data-for="notes/AI/ChatGPT">ChatGPT</a></li><li><a href="../../notes/AI/Forefront-Chat" data-for="notes/AI/Forefront-Chat">Forefront Chat</a></li><li><a href="../../notes/AI/GPT-4-Chat-Demo" data-for="notes/AI/GPT-4-Chat-Demo">GPT-4 Chat Demo</a></li><li><a href="../../notes/AI/LLM-Models" data-for="notes/AI/LLM-Models">LLM Models</a></li><li><a href="../../notes/AI/New-Bing" data-for="notes/AI/New-Bing">New Bing</a></li><li><a href="../../notes/AI/Poe" data-for="notes/AI/Poe">Poe</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/CLI"><button class="folder-button"><span class="folder-title">CLI</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/CLI"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/CLI/Bash"><button class="folder-button"><span class="folder-title">Bash</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/CLI/Bash"><li><a href="../../notes/CLI/Bash/Best-way-to-add-path-to-PATH-environment-variable" data-for="notes/CLI/Bash/Best-way-to-add-path-to-PATH-environment-variable">Best way to add path to PATH environment variable</a></li><li><a href="../../notes/CLI/Bash/Here-Document" data-for="notes/CLI/Bash/Here-Document">Here Document</a></li><li><a href="../../notes/CLI/Bash/Line-Editing" data-for="notes/CLI/Bash/Line-Editing">Line Editing</a></li><li><a href="../../notes/CLI/Bash/Read-a-block-of-text-into-a-variable" data-for="notes/CLI/Bash/Read-a-block-of-text-into-a-variable">Read a block of text into a variable</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/CLI/git"><button class="folder-button"><span class="folder-title">git</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/CLI/git"><li><a href="../../notes/CLI/git/Git-Partial-Clone" data-for="notes/CLI/git/Git-Partial-Clone">Git Partial Clone</a></li><li><a href="../../notes/CLI/git/git-filter-repo" data-for="notes/CLI/git/git-filter-repo">git-filter-repo</a></li><li><a href="../../notes/CLI/git/git-status" data-for="notes/CLI/git/git-status">git-status</a></li></ul></div></li><li><a href="../../notes/CLI/apt" data-for="notes/CLI/apt">apt</a></li><li><a href="../../notes/CLI/benchstat" data-for="notes/CLI/benchstat">benchstat</a></li><li><a href="../../notes/CLI/col" data-for="notes/CLI/col">col</a></li><li><a href="../../notes/CLI/Convenient-CLI-Tools" data-for="notes/CLI/Convenient-CLI-Tools">Convenient CLI Tools</a></li><li><a href="../../notes/CLI/curl" data-for="notes/CLI/curl">curl</a></li><li><a href="../../notes/CLI/dig" data-for="notes/CLI/dig">dig</a></li><li><a href="../../notes/CLI/du" data-for="notes/CLI/du">du</a></li><li><a href="../../notes/CLI/ffmpeg" data-for="notes/CLI/ffmpeg">ffmpeg</a></li><li><a href="../../notes/CLI/GNU-Sed" data-for="notes/CLI/GNU-Sed">GNU Sed</a></li><li><a href="../../notes/CLI/GraphicsMagick" data-for="notes/CLI/GraphicsMagick">GraphicsMagick</a></li><li><a href="../../notes/CLI/grep" data-for="notes/CLI/grep">grep</a></li><li><a href="../../notes/CLI/ip" data-for="notes/CLI/ip">ip</a></li><li><a href="../../notes/CLI/journalctl" data-for="notes/CLI/journalctl">journalctl</a></li><li><a href="../../notes/CLI/less" data-for="notes/CLI/less">less</a></li><li><a href="../../notes/CLI/lsof" data-for="notes/CLI/lsof">lsof</a></li><li><a href="../../notes/CLI/namei" data-for="notes/CLI/namei">namei</a></li><li><a href="../../notes/CLI/Neovim" data-for="notes/CLI/Neovim">Neovim</a></li><li><a href="../../notes/CLI/nstat" data-for="notes/CLI/nstat">nstat</a></li><li><a href="../../notes/CLI/procstat" data-for="notes/CLI/procstat">procstat</a></li><li><a href="../../notes/CLI/ps" data-for="notes/CLI/ps">ps</a></li><li><a href="../../notes/CLI/Replace-fixed-pattern-in-file" data-for="notes/CLI/Replace-fixed-pattern-in-file">Replace fixed pattern in file</a></li><li><a href="../../notes/CLI/rsync" data-for="notes/CLI/rsync">rsync</a></li><li><a href="../../notes/CLI/snmpwalk" data-for="notes/CLI/snmpwalk">snmpwalk</a></li><li><a href="../../notes/CLI/ss" data-for="notes/CLI/ss">ss</a></li><li><a href="../../notes/CLI/starship" data-for="notes/CLI/starship">starship</a></li><li><a href="../../notes/CLI/systemd-analyze" data-for="notes/CLI/systemd-analyze">systemd-analyze</a></li><li><a href="../../notes/CLI/top" data-for="notes/CLI/top">top</a></li><li><a href="../../notes/CLI/Vim" data-for="notes/CLI/Vim">Vim</a></li><li><a href="../../notes/CLI/Zsh" data-for="notes/CLI/Zsh">Zsh</a></li><li><a href="../../notes/CLI/Zsh-Word-Splitting" data-for="notes/CLI/Zsh-Word-Splitting">Zsh Word Splitting</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/Cloud"><button class="folder-button"><span class="folder-title">Cloud</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/Cloud"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/Cloud/AWS"><button class="folder-button"><span class="folder-title">AWS</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/Cloud/AWS"><li><a href="../../notes/Cloud/AWS/Accessing-RHKB-via-AWS" data-for="notes/Cloud/AWS/Accessing-RHKB-via-AWS">Accessing RHKB via AWS</a></li><li><a href="../../notes/Cloud/AWS/Amazon-Managed-Service-for-Prometheus" data-for="notes/Cloud/AWS/Amazon-Managed-Service-for-Prometheus">Amazon Managed Service for Prometheus</a></li><li><a href="../../notes/Cloud/AWS/Application-Load-Balancer" data-for="notes/Cloud/AWS/Application-Load-Balancer">Application Load Balancer</a></li><li><a href="../../notes/Cloud/AWS/AWS-Backbone-Network" data-for="notes/Cloud/AWS/AWS-Backbone-Network">AWS Backbone Network</a></li><li><a href="../../notes/Cloud/AWS/AWS-Documentation-Excerpts" data-for="notes/Cloud/AWS/AWS-Documentation-Excerpts">AWS Documentation Excerpts</a></li><li><a href="../../notes/Cloud/AWS/AWS-Nitro-System" data-for="notes/Cloud/AWS/AWS-Nitro-System">AWS Nitro System</a></li><li><a href="../../notes/Cloud/AWS/AWS-Pitfalls" data-for="notes/Cloud/AWS/AWS-Pitfalls">AWS Pitfalls</a></li><li><a href="../../notes/Cloud/AWS/AWS-VPC" data-for="notes/Cloud/AWS/AWS-VPC">AWS VPC</a></li><li><a href="../../notes/Cloud/AWS/EC2-Performance-Benchmarks" data-for="notes/Cloud/AWS/EC2-Performance-Benchmarks">EC2 Performance Benchmarks</a></li><li><a href="../../notes/Cloud/AWS/Elastic-Network-Interface" data-for="notes/Cloud/AWS/Elastic-Network-Interface">Elastic Network Interface</a></li><li><a href="../../notes/Cloud/AWS/Hyperplane" data-for="notes/Cloud/AWS/Hyperplane">Hyperplane</a></li><li><a href="../../notes/Cloud/AWS/Network-Load-Balancer" data-for="notes/Cloud/AWS/Network-Load-Balancer">Network Load Balancer</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/Cloud/Azure"><button class="folder-button"><span class="folder-title">Azure</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/Cloud/Azure"><li><a href="../../notes/Cloud/Azure/Acceleration-Mechanisms-on-NVIDIA-ConnectX-5-NICs" data-for="notes/Cloud/Azure/Acceleration-Mechanisms-on-NVIDIA-ConnectX-5-NICs">Acceleration Mechanisms on NVIDIA ConnectX-5 NICs</a></li><li><a href="../../notes/Cloud/Azure/Ananta" data-for="notes/Cloud/Azure/Ananta">Ananta</a></li><li><a href="../../notes/Cloud/Azure/Azure-Accelerated-Networking" data-for="notes/Cloud/Azure/Azure-Accelerated-Networking">Azure Accelerated Networking</a></li><li><a href="../../notes/Cloud/Azure/Azure-Blob-Storage" data-for="notes/Cloud/Azure/Azure-Blob-Storage">Azure Blob Storage</a></li><li><a href="../../notes/Cloud/Azure/Azure-Linux-Guest-Agent" data-for="notes/Cloud/Azure/Azure-Linux-Guest-Agent">Azure Linux Guest Agent</a></li><li><a href="../../notes/Cloud/Azure/Azure-Load-Balancer" data-for="notes/Cloud/Azure/Azure-Load-Balancer">Azure Load Balancer</a></li><li><a href="../../notes/Cloud/Azure/Azure-NAT-Gateway" data-for="notes/Cloud/Azure/Azure-NAT-Gateway">Azure NAT Gateway</a></li><li><a href="../../notes/Cloud/Azure/Azure-Network-Idle-Timeout" data-for="notes/Cloud/Azure/Azure-Network-Idle-Timeout">Azure Network Idle Timeout</a></li><li><a href="../../notes/Cloud/Azure/Azure-VM-size-series-naming" data-for="notes/Cloud/Azure/Azure-VM-size-series-naming">Azure VM size series naming</a></li><li><a href="../../notes/Cloud/Azure/Hyper-V-Guest-Features" data-for="notes/Cloud/Azure/Hyper-V-Guest-Features">Hyper-V Guest Features</a></li><li><a href="../../notes/Cloud/Azure/Linux-Integration-Services" data-for="notes/Cloud/Azure/Linux-Integration-Services">Linux Integration Services</a></li><li><a href="../../notes/Cloud/Azure/Microsoft-Azure-Network-Adapter" data-for="notes/Cloud/Azure/Microsoft-Azure-Network-Adapter">Microsoft Azure Network Adapter</a></li><li><a href="../../notes/Cloud/Azure/Receive-Segment-Coalescing" data-for="notes/Cloud/Azure/Receive-Segment-Coalescing">Receive Segment Coalescing</a></li><li><a href="../../notes/Cloud/Azure/Receive-Side-Scaling-on-Azure" data-for="notes/Cloud/Azure/Receive-Side-Scaling-on-Azure">Receive Side Scaling on Azure</a></li><li><a href="../../notes/Cloud/Azure/Traceroute-on-Azure" data-for="notes/Cloud/Azure/Traceroute-on-Azure">Traceroute on Azure</a></li><li><a href="../../notes/Cloud/Azure/Virtual-Filtering-Platform" data-for="notes/Cloud/Azure/Virtual-Filtering-Platform">Virtual Filtering Platform</a></li><li><a href="../../notes/Cloud/Azure/VL2" data-for="notes/Cloud/Azure/VL2">VL2</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/Cloud/Google-Cloud"><button class="folder-button"><span class="folder-title">Google Cloud</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/Cloud/Google-Cloud"><li><a href="../../notes/Cloud/Google-Cloud/Andromeda" data-for="notes/Cloud/Google-Cloud/Andromeda">Andromeda</a></li><li><a href="../../notes/Cloud/Google-Cloud/GCP-VPC" data-for="notes/Cloud/Google-Cloud/GCP-VPC">GCP VPC</a></li><li><a href="../../notes/Cloud/Google-Cloud/Google-Cloud-Free-Tier" data-for="notes/Cloud/Google-Cloud/Google-Cloud-Free-Tier">Google Cloud Free Tier</a></li><li><a href="../../notes/Cloud/Google-Cloud/Google-Kubernetes-Engine" data-for="notes/Cloud/Google-Cloud/Google-Kubernetes-Engine">Google Kubernetes Engine</a></li><li><a href="../../notes/Cloud/Google-Cloud/Maglev" data-for="notes/Cloud/Google-Cloud/Maglev">Maglev</a></li><li><a href="../../notes/Cloud/Google-Cloud/Unexpected-Costs-on-GCP" data-for="notes/Cloud/Google-Cloud/Unexpected-Costs-on-GCP">Unexpected Costs on GCP</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/Cloud/Oracle-Cloud"><button class="folder-button"><span class="folder-title">Oracle Cloud</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/Cloud/Oracle-Cloud"><li><a href="../../notes/Cloud/Oracle-Cloud/OCI-IPv6-Address-Fix" data-for="notes/Cloud/Oracle-Cloud/OCI-IPv6-Address-Fix">OCI IPv6 Address Fix</a></li><li><a href="../../notes/Cloud/Oracle-Cloud/OCI-Link-Local-Addresses" data-for="notes/Cloud/Oracle-Cloud/OCI-Link-Local-Addresses">OCI Link-Local Addresses</a></li><li><a href="../../notes/Cloud/Oracle-Cloud/OCI-Network-Security-Rules" data-for="notes/Cloud/Oracle-Cloud/OCI-Network-Security-Rules">OCI Network Security Rules</a></li><li><a href="../../notes/Cloud/Oracle-Cloud/OCI-Public-IP-Ranges" data-for="notes/Cloud/Oracle-Cloud/OCI-Public-IP-Ranges">OCI Public IP Ranges</a></li></ul></div></li><li><a href="../../notes/Cloud/Free-Domain-Name-Providers" data-for="notes/Cloud/Free-Domain-Name-Providers">Free Domain Name Providers</a></li><li><a href="../../notes/Cloud/GitHub-personal-access-token-to-perform-Git-operations-over-HTTPS" data-for="notes/Cloud/GitHub-personal-access-token-to-perform-Git-operations-over-HTTPS">GitHub personal access token to perform Git operations over HTTPS</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/Computer-Science"><button class="folder-button"><span class="folder-title">Computer Science</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/Computer-Science"><li><a href="../../notes/Computer-Science/AWS-CLB-Surge-Queue-and-Little's-Law" data-for="notes/Computer-Science/AWS-CLB-Surge-Queue-and-Little's-Law">AWS CLB Surge Queue and Little's Law</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/Database"><button class="folder-button"><span class="folder-title">Database</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/Database"><li><a href="../../notes/Database/MariaDB-Grant-Privileges-via-Unix-socket" data-for="notes/Database/MariaDB-Grant-Privileges-via-Unix-socket">MariaDB Grant Privileges via Unix socket</a></li><li><a href="../../notes/Database/PgBouncer" data-for="notes/Database/PgBouncer">PgBouncer</a></li><li><a href="../../notes/Database/PostgreSQL" data-for="notes/Database/PostgreSQL">PostgreSQL</a></li><li><a href="../../notes/Database/psql-Verify-TLS-Certificate" data-for="notes/Database/psql-Verify-TLS-Certificate">psql Verify TLS Certificate</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/Economics"><button class="folder-button"><span class="folder-title">Economics</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/Economics"><li><a href="../../notes/Economics/Economics-in-China" data-for="notes/Economics/Economics-in-China">Economics in China</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/Emacs"><button class="folder-button"><span class="folder-title">Emacs</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/Emacs"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/Emacs/doom"><button class="folder-button"><span class="folder-title">doom</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/Emacs/doom"><li><a href="../../notes/Emacs/doom/cc" data-for="notes/Emacs/doom/cc">cc</a></li><li><a href="../../notes/Emacs/doom/chinese" data-for="notes/Emacs/doom/chinese">chinese</a></li><li><a href="../../notes/Emacs/doom/Consult" data-for="notes/Emacs/doom/Consult">Consult</a></li><li><a href="../../notes/Emacs/doom/defcustom" data-for="notes/Emacs/doom/defcustom">defcustom</a></li><li><a href="../../notes/Emacs/doom/Dhall" data-for="notes/Emacs/doom/Dhall">Dhall</a></li><li><a href="../../notes/Emacs/doom/Doom-CLI" data-for="notes/Emacs/doom/Doom-CLI">Doom CLI</a></li><li><a href="../../notes/Emacs/doom/Eglot" data-for="notes/Emacs/doom/Eglot">Eglot</a></li><li><a href="../../notes/Emacs/doom/Embark" data-for="notes/Emacs/doom/Embark">Embark</a></li><li><a href="../../notes/Emacs/doom/Evil" data-for="notes/Emacs/doom/Evil">Evil</a></li><li><a href="../../notes/Emacs/doom/Evil-Collection" data-for="notes/Emacs/doom/Evil-Collection">Evil Collection</a></li><li><a href="../../notes/Emacs/doom/Font" data-for="notes/Emacs/doom/Font">Font</a></li><li><a href="../../notes/Emacs/doom/Font-Face-Attribute-Override" data-for="notes/Emacs/doom/Font-Face-Attribute-Override">Font Face Attribute Override</a></li><li><a href="../../notes/Emacs/doom/How-to-Bump-a-Package" data-for="notes/Emacs/doom/How-to-Bump-a-Package">How to Bump a Package</a></li><li><a href="../../notes/Emacs/doom/Init" data-for="notes/Emacs/doom/Init">Init</a></li><li><a href="../../notes/Emacs/doom/Jumper" data-for="notes/Emacs/doom/Jumper">Jumper</a></li><li><a href="../../notes/Emacs/doom/Leader-Key" data-for="notes/Emacs/doom/Leader-Key">Leader Key</a></li><li><a href="../../notes/Emacs/doom/lispy" data-for="notes/Emacs/doom/lispy">lispy</a></li><li><a href="../../notes/Emacs/doom/Lookup" data-for="notes/Emacs/doom/Lookup">Lookup</a></li><li><a href="../../notes/Emacs/doom/lsp-mode" data-for="notes/Emacs/doom/lsp-mode">lsp-mode</a></li><li><a href="../../notes/Emacs/doom/Magit" data-for="notes/Emacs/doom/Magit">Magit</a></li><li><a href="../../notes/Emacs/doom/Mpdel" data-for="notes/Emacs/doom/Mpdel">Mpdel</a></li><li><a href="../../notes/Emacs/doom/Nativecomp" data-for="notes/Emacs/doom/Nativecomp">Nativecomp</a></li><li><a href="../../notes/Emacs/doom/Org-roam-v2" data-for="notes/Emacs/doom/Org-roam-v2">Org-roam v2</a></li><li><a href="../../notes/Emacs/doom/ParEdit" data-for="notes/Emacs/doom/ParEdit">ParEdit</a></li><li><a href="../../notes/Emacs/doom/Projectile" data-for="notes/Emacs/doom/Projectile">Projectile</a></li><li><a href="../../notes/Emacs/doom/Rime" data-for="notes/Emacs/doom/Rime">Rime</a></li><li><a href="../../notes/Emacs/doom/rust" data-for="notes/Emacs/doom/rust">rust</a></li><li><a href="../../notes/Emacs/doom/Straight" data-for="notes/Emacs/doom/Straight">Straight</a></li><li><a href="../../notes/Emacs/doom/tree-sitter" data-for="notes/Emacs/doom/tree-sitter">tree-sitter</a></li><li><a href="../../notes/Emacs/doom/tty" data-for="notes/Emacs/doom/tty">tty</a></li><li><a href="../../notes/Emacs/doom/Undo" data-for="notes/Emacs/doom/Undo">Undo</a></li><li><a href="../../notes/Emacs/doom/Vertico" data-for="notes/Emacs/doom/Vertico">Vertico</a></li><li><a href="../../notes/Emacs/doom/wgrep" data-for="notes/Emacs/doom/wgrep">wgrep</a></li><li><a href="../../notes/Emacs/doom/Window" data-for="notes/Emacs/doom/Window">Window</a></li><li><a href="../../notes/Emacs/doom/Workspace" data-for="notes/Emacs/doom/Workspace">Workspace</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/Emacs/mu4e"><button class="folder-button"><span class="folder-title">mu4e</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/Emacs/mu4e"><li><a href="../../notes/Emacs/mu4e/mu4e-Hotkeys" data-for="notes/Emacs/mu4e/mu4e-Hotkeys">mu4e Hotkeys</a></li><li><a href="../../notes/Emacs/mu4e/Prefer-Plain-Text-in-mu4e" data-for="notes/Emacs/mu4e/Prefer-Plain-Text-in-mu4e">Prefer Plain Text in mu4e</a></li></ul></div></li><li><a href="../../notes/Emacs/autoload" data-for="notes/Emacs/autoload">autoload</a></li><li><a href="../../notes/Emacs/CIDER" data-for="notes/Emacs/CIDER">CIDER</a></li><li><a href="../../notes/Emacs/Emacs-Features" data-for="notes/Emacs/Emacs-Features">Emacs Features</a></li><li><a href="../../notes/Emacs/Emacs-Frame-Setup" data-for="notes/Emacs/Emacs-Frame-Setup">Emacs Frame Setup</a></li><li><a href="../../notes/Emacs/emacsclient-on-macOS" data-for="notes/Emacs/emacsclient-on-macOS">emacsclient on macOS</a></li><li><a href="../../notes/Emacs/Telegra" data-for="notes/Emacs/Telegra">Telegra</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/English-Terms"><button class="folder-button"><span class="folder-title">English Terms</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/English-Terms"><li><a href="../../notes/English-Terms/Conference-Talks" data-for="notes/English-Terms/Conference-Talks">Conference Talks</a></li><li><a href="../../notes/English-Terms/Data-Center-Terms" data-for="notes/English-Terms/Data-Center-Terms">Data Center Terms</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/Health"><button class="folder-button"><span class="folder-title">Health</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/Health"><li><a href="../../notes/Health/20-20-20-Rule" data-for="notes/Health/20-20-20-Rule">20-20-20 Rule</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/HTTP"><button class="folder-button"><span class="folder-title">HTTP</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/HTTP"><li><a href="../../notes/HTTP/CORS-Credentials" data-for="notes/HTTP/CORS-Credentials">CORS Credentials</a></li><li><a href="../../notes/HTTP/CORS-Origin" data-for="notes/HTTP/CORS-Origin">CORS Origin</a></li><li><a href="../../notes/HTTP/HTTP-Request-RTTs" data-for="notes/HTTP/HTTP-Request-RTTs">HTTP Request RTTs</a></li><li><a href="../../notes/HTTP/Preflight-Request" data-for="notes/HTTP/Preflight-Request">Preflight Request</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/Kubernetes"><button class="folder-button"><span class="folder-title">Kubernetes</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/Kubernetes"><li><a href="../../notes/Kubernetes/cert-manager" data-for="notes/Kubernetes/cert-manager">cert-manager</a></li><li><a href="../../notes/Kubernetes/CRI-Logging-Format" data-for="notes/Kubernetes/CRI-Logging-Format">CRI Logging Format</a></li><li><a href="../../notes/Kubernetes/Flux" data-for="notes/Kubernetes/Flux">Flux</a></li><li><a href="../../notes/Kubernetes/Flux-Helm-Release-Troubleshooting" data-for="notes/Kubernetes/Flux-Helm-Release-Troubleshooting">Flux Helm Release Troubleshooting</a></li><li><a href="../../notes/Kubernetes/Grafana-Kubernetes-Monitoring-Helm-Charts" data-for="notes/Kubernetes/Grafana-Kubernetes-Monitoring-Helm-Charts">Grafana Kubernetes Monitoring Helm Charts</a></li><li><a href="../../notes/Kubernetes/Helm-Chart-Releaser" data-for="notes/Kubernetes/Helm-Chart-Releaser">Helm Chart Releaser</a></li><li><a href="../../notes/Kubernetes/K3s-etcd-HA" data-for="notes/Kubernetes/K3s-etcd-HA">K3s etcd HA</a></li><li><a href="../../notes/Kubernetes/K3s-Exit-Node-Bypass-Route" data-for="notes/Kubernetes/K3s-Exit-Node-Bypass-Route">K3s Exit Node Bypass Route</a></li><li><a href="../../notes/Kubernetes/K3s-External-Database-HA" data-for="notes/Kubernetes/K3s-External-Database-HA">K3s External Database HA</a></li><li><a href="../../notes/Kubernetes/K3s-HA-Cluster" data-for="notes/Kubernetes/K3s-HA-Cluster">K3s HA Cluster</a></li><li><a href="../../notes/Kubernetes/K3s-System-HelmChart" data-for="notes/Kubernetes/K3s-System-HelmChart">K3s System HelmChart</a></li><li><a href="../../notes/Kubernetes/K3s-Traefik" data-for="notes/Kubernetes/K3s-Traefik">K3s Traefik</a></li><li><a href="../../notes/Kubernetes/K8s-Metrics" data-for="notes/Kubernetes/K8s-Metrics">K8s Metrics</a></li><li><a href="../../notes/Kubernetes/K8s-Secrets" data-for="notes/Kubernetes/K8s-Secrets">K8s Secrets</a></li><li><a href="../../notes/Kubernetes/K8s-Volumes" data-for="notes/Kubernetes/K8s-Volumes">K8s Volumes</a></li><li><a href="../../notes/Kubernetes/Kubernetes-DNS" data-for="notes/Kubernetes/Kubernetes-DNS">Kubernetes DNS</a></li><li><a href="../../notes/Kubernetes/Kubernetes-Monitoring" data-for="notes/Kubernetes/Kubernetes-Monitoring">Kubernetes Monitoring</a></li><li><a href="../../notes/Kubernetes/Kustomize" data-for="notes/Kubernetes/Kustomize">Kustomize</a></li><li><a href="../../notes/Kubernetes/Longhorn" data-for="notes/Kubernetes/Longhorn">Longhorn</a></li><li><a href="../../notes/Kubernetes/Persistent-SQLite-on-K8s" data-for="notes/Kubernetes/Persistent-SQLite-on-K8s">Persistent SQLite on K8s</a></li><li><a href="../../notes/Kubernetes/Pinning-FROM-with-Image-Digest" data-for="notes/Kubernetes/Pinning-FROM-with-Image-Digest">Pinning FROM with Image Digest</a></li><li><a href="../../notes/Kubernetes/Traefik" data-for="notes/Kubernetes/Traefik">Traefik</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/Life"><button class="folder-button"><span class="folder-title">Life</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/Life"><li><a href="../../notes/Life/Dealing-with-Leaking-Alkaline-Batteries" data-for="notes/Life/Dealing-with-Leaking-Alkaline-Batteries">Dealing with Leaking Alkaline Batteries</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/MacPorts"><button class="folder-button"><span class="folder-title">MacPorts</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/MacPorts"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/MacPorts/base"><button class="folder-button"><span class="folder-title">base</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/MacPorts/base"><li><a href="../../notes/MacPorts/base/Alternative-Compiler" data-for="notes/MacPorts/base/Alternative-Compiler">Alternative Compiler</a></li><li><a href="../../notes/MacPorts/base/Anatomy" data-for="notes/MacPorts/base/Anatomy">Anatomy</a></li><li><a href="../../notes/MacPorts/base/Registry" data-for="notes/MacPorts/base/Registry">Registry</a></li><li><a href="../../notes/MacPorts/base/Tcl-API" data-for="notes/MacPorts/base/Tcl-API">Tcl API</a></li></ul></div></li><li><a href="../../notes/MacPorts/Fontconfig" data-for="notes/MacPorts/Fontconfig">Fontconfig</a></li><li><a href="../../notes/MacPorts/Ideas" data-for="notes/MacPorts/Ideas">Ideas</a></li><li><a href="../../notes/MacPorts/OpenSSH-Log-on-macOS" data-for="notes/MacPorts/OpenSSH-Log-on-macOS">OpenSSH Log on macOS</a></li><li><a href="../../notes/MacPorts/Running-a-System-LaunchDaemon-with-MacPorts" data-for="notes/MacPorts/Running-a-System-LaunchDaemon-with-MacPorts">Running a System LaunchDaemon with MacPorts</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/Media"><button class="folder-button"><span class="folder-title">Media</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/Media"><li><a href="../../notes/Media/Music-Streaming-Setup" data-for="notes/Media/Music-Streaming-Setup">Music Streaming Setup</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/Network"><button class="folder-button"><span class="folder-title">Network</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/Network"><li><a href="../../notes/Network/Cloudflare" data-for="notes/Network/Cloudflare">Cloudflare</a></li><li><a href="../../notes/Network/Direct-Server-Return" data-for="notes/Network/Direct-Server-Return">Direct Server Return</a></li><li><a href="../../notes/Network/DNS-Caching" data-for="notes/Network/DNS-Caching">DNS Caching</a></li><li><a href="../../notes/Network/Global-DNS-Lookup-and-Ping-Services" data-for="notes/Network/Global-DNS-Lookup-and-Ping-Services">Global DNS Lookup and Ping Services</a></li><li><a href="../../notes/Network/ICMP-ping-packet-size" data-for="notes/Network/ICMP-ping-packet-size">ICMP ping packet size</a></li><li><a href="../../notes/Network/IP-and-BGP-ASN-Data-Lookup-Services" data-for="notes/Network/IP-and-BGP-ASN-Data-Lookup-Services">IP and BGP ASN Data Lookup Services</a></li><li><a href="../../notes/Network/IPv6-Firewall" data-for="notes/Network/IPv6-Firewall">IPv6 Firewall</a></li><li><a href="../../notes/Network/IPv6-in-IPv4-Tunnel" data-for="notes/Network/IPv6-in-IPv4-Tunnel">IPv6 in IPv4 Tunnel</a></li><li><a href="../../notes/Network/NIC-Offload" data-for="notes/Network/NIC-Offload">NIC Offload</a></li><li><a href="../../notes/Network/NIC-Scaling-and-Steering" data-for="notes/Network/NIC-Scaling-and-Steering">NIC Scaling and Steering</a></li><li><a href="../../notes/Network/OpenWRT-DFS-Channel-Experiment" data-for="notes/Network/OpenWRT-DFS-Channel-Experiment">OpenWRT DFS Channel Experiment</a></li><li><a href="../../notes/Network/OpenWRT-LuCI-Protocol" data-for="notes/Network/OpenWRT-LuCI-Protocol">OpenWRT LuCI Protocol</a></li><li><a href="../../notes/Network/Path-MTU-Discovery" data-for="notes/Network/Path-MTU-Discovery">Path MTU Discovery</a></li><li><a href="../../notes/Network/Prefer-IPv4-over-IPv6" data-for="notes/Network/Prefer-IPv4-over-IPv6">Prefer IPv4 over IPv6</a></li><li><a href="../../notes/Network/Reverse-Path-Forwarding" data-for="notes/Network/Reverse-Path-Forwarding">Reverse-Path Forwarding</a></li><li><a href="../../notes/Network/RHEL-9-Networking" data-for="notes/Network/RHEL-9-Networking">RHEL 9 Networking</a></li><li><a href="../../notes/Network/SNMPv2-TCP-Statistics" data-for="notes/Network/SNMPv2-TCP-Statistics">SNMPv2 TCP Statistics</a></li><li><a href="../../notes/Network/Speed-Test-Website-and-Tools" data-for="notes/Network/Speed-Test-Website-and-Tools">Speed Test Website and Tools</a></li><li><a href="../../notes/Network/Strong-and-Weak-Host-Model" data-for="notes/Network/Strong-and-Weak-Host-Model">Strong and Weak Host Model</a></li><li><a href="../../notes/Network/TCP-Handshake" data-for="notes/Network/TCP-Handshake">TCP Handshake</a></li><li><a href="../../notes/Network/Valiant-Load-Balancing" data-for="notes/Network/Valiant-Load-Balancing">Valiant Load Balancing</a></li><li><a href="../../notes/Network/VXLAN" data-for="notes/Network/VXLAN">VXLAN</a></li><li><a href="../../notes/Network/Wi-Fi-6E" data-for="notes/Network/Wi-Fi-6E">Wi-Fi 6E</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/Nginx"><button class="folder-button"><span class="folder-title">Nginx</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/Nginx"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/Nginx/proxy"><button class="folder-button"><span class="folder-title">proxy</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/Nginx/proxy"><li><a href="../../notes/Nginx/proxy/Headers" data-for="notes/Nginx/proxy/Headers">Headers</a></li><li><a href="../../notes/Nginx/proxy/Health-Check" data-for="notes/Nginx/proxy/Health-Check">Health Check</a></li><li><a href="../../notes/Nginx/proxy/Upstream-Keepalive" data-for="notes/Nginx/proxy/Upstream-Keepalive">Upstream Keepalive</a></li></ul></div></li><li><a href="../../notes/Nginx/Byte-Range-Request" data-for="notes/Nginx/Byte-Range-Request">Byte-Range Request</a></li><li><a href="../../notes/Nginx/location" data-for="notes/Nginx/location">location</a></li><li><a href="../../notes/Nginx/Nginx-Code---Client-Closed-Request" data-for="notes/Nginx/Nginx-Code---Client-Closed-Request">Nginx Code - Client Closed Request</a></li><li><a href="../../notes/Nginx/Nginx-Code---Upstream-Connect-Timeout" data-for="notes/Nginx/Nginx-Code---Upstream-Connect-Timeout">Nginx Code - Upstream Connect Timeout</a></li><li><a href="../../notes/Nginx/Nginx-Error-Log" data-for="notes/Nginx/Nginx-Error-Log">Nginx Error Log</a></li><li><a href="../../notes/Nginx/Nginx-HTTP-Variables-to-Log" data-for="notes/Nginx/Nginx-HTTP-Variables-to-Log">Nginx HTTP Variables to Log</a></li><li><a href="../../notes/Nginx/Nginx-IPv6-Rate-Limiting" data-for="notes/Nginx/Nginx-IPv6-Rate-Limiting">Nginx IPv6 Rate Limiting</a></li><li><a href="../../notes/Nginx/Nginx-Thundering-Herd-Problem" data-for="notes/Nginx/Nginx-Thundering-Herd-Problem">Nginx Thundering Herd Problem</a></li><li><a href="../../notes/Nginx/Optimizing-single-box-Nginx-performance" data-for="notes/Nginx/Optimizing-single-box-Nginx-performance">Optimizing single-box Nginx performance</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/Note-Making"><button class="folder-button"><span class="folder-title">Note Making</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/Note-Making"><li><a href="../../notes/Note-Making/Ideaverse-Kit-Plugins" data-for="notes/Note-Making/Ideaverse-Kit-Plugins">Ideaverse Kit Plugins</a></li><li><a href="../../notes/Note-Making/Open-Source-Diagram-Editors" data-for="notes/Note-Making/Open-Source-Diagram-Editors">Open Source Diagram Editors</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/Observability"><button class="folder-button"><span class="folder-title">Observability</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/Observability"><li><a href="../../notes/Observability/Alloy-Collector-Configuration-Example" data-for="notes/Observability/Alloy-Collector-Configuration-Example">Alloy Collector Configuration Example</a></li><li><a href="../../notes/Observability/Checking-Grafana-Server-Version" data-for="notes/Observability/Checking-Grafana-Server-Version">Checking Grafana Server Version</a></li><li><a href="../../notes/Observability/Grafana-Alerts" data-for="notes/Observability/Grafana-Alerts">Grafana Alerts</a></li><li><a href="../../notes/Observability/Grafana-Dashboard-Annotations" data-for="notes/Observability/Grafana-Dashboard-Annotations">Grafana Dashboard Annotations</a></li><li><a href="../../notes/Observability/Grafana-Dashboards" data-for="notes/Observability/Grafana-Dashboards">Grafana Dashboards</a></li><li><a href="../../notes/Observability/Grafana-Variables" data-for="notes/Observability/Grafana-Variables">Grafana Variables</a></li><li><a href="../../notes/Observability/Grafana-Visualizations" data-for="notes/Observability/Grafana-Visualizations">Grafana Visualizations</a></li><li><a href="../../notes/Observability/Prometheus-Node-Exporter" data-for="notes/Observability/Prometheus-Node-Exporter">Prometheus Node Exporter</a></li><li><a href="../../notes/Observability/pwru" data-for="notes/Observability/pwru">pwru</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/Operating-System"><button class="folder-button"><span class="folder-title">Operating System</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/Operating-System"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/Operating-System/FreeBSD"><button class="folder-button"><span class="folder-title">FreeBSD</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/Operating-System/FreeBSD"><li><a href="../../notes/Operating-System/FreeBSD/DTrace" data-for="notes/Operating-System/FreeBSD/DTrace">DTrace</a></li><li><a href="../../notes/Operating-System/FreeBSD/FreeBSD-NIC-Settings" data-for="notes/Operating-System/FreeBSD/FreeBSD-NIC-Settings">FreeBSD NIC Settings</a></li><li><a href="../../notes/Operating-System/FreeBSD/PF-Firewall" data-for="notes/Operating-System/FreeBSD/PF-Firewall">PF Firewall</a></li><li><a href="../../notes/Operating-System/FreeBSD/Upgrading-FreeBSD" data-for="notes/Operating-System/FreeBSD/Upgrading-FreeBSD">Upgrading FreeBSD</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/Operating-System/Linux"><button class="folder-button"><span class="folder-title">Linux</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/Operating-System/Linux"><li><a href="../../notes/Operating-System/Linux/Asahi-Linux" data-for="notes/Operating-System/Linux/Asahi-Linux">Asahi Linux</a></li><li><a href="../../notes/Operating-System/Linux/BBR" data-for="notes/Operating-System/Linux/BBR">BBR</a></li><li><a href="../../notes/Operating-System/Linux/BPF" data-for="notes/Operating-System/Linux/BPF">BPF</a></li><li><a href="../../notes/Operating-System/Linux/BPF-development-with-Aya-on-aarch64" data-for="notes/Operating-System/Linux/BPF-development-with-Aya-on-aarch64">BPF development with Aya on aarch64</a></li><li><a href="../../notes/Operating-System/Linux/Building-an-RPM-package-from-source" data-for="notes/Operating-System/Linux/Building-an-RPM-package-from-source">Building an RPM package from source</a></li><li><a href="../../notes/Operating-System/Linux/Building-the-Linux-kernel-on-Copr-Build-Service" data-for="notes/Operating-System/Linux/Building-the-Linux-kernel-on-Copr-Build-Service">Building the Linux kernel on Copr Build Service</a></li><li><a href="../../notes/Operating-System/Linux/De-Prioritize-Process" data-for="notes/Operating-System/Linux/De-Prioritize-Process">De-Prioritize Process</a></li><li><a href="../../notes/Operating-System/Linux/Desktop-Linux-Performance-Optimization" data-for="notes/Operating-System/Linux/Desktop-Linux-Performance-Optimization">Desktop Linux Performance Optimization</a></li><li><a href="../../notes/Operating-System/Linux/epoll" data-for="notes/Operating-System/Linux/epoll">epoll</a></li><li><a href="../../notes/Operating-System/Linux/firejail" data-for="notes/Operating-System/Linux/firejail">firejail</a></li><li><a href="../../notes/Operating-System/Linux/Firewalld" data-for="notes/Operating-System/Linux/Firewalld">Firewalld</a></li><li><a href="../../notes/Operating-System/Linux/Firewalld-Specify-Zone-by-IP-Address" data-for="notes/Operating-System/Linux/Firewalld-Specify-Zone-by-IP-Address">Firewalld Specify Zone by IP Address</a></li><li><a href="../../notes/Operating-System/Linux/Handling-configuration-updates-on-rpm-based-distros" data-for="notes/Operating-System/Linux/Handling-configuration-updates-on-rpm-based-distros">Handling configuration updates on rpm-based distros</a></li><li><a href="../../notes/Operating-System/Linux/IBus-on-Wayland" data-for="notes/Operating-System/Linux/IBus-on-Wayland">IBus on Wayland</a></li><li><a href="../../notes/Operating-System/Linux/iptables" data-for="notes/Operating-System/Linux/iptables">iptables</a></li><li><a href="../../notes/Operating-System/Linux/kdump" data-for="notes/Operating-System/Linux/kdump">kdump</a></li><li><a href="../../notes/Operating-System/Linux/Killing-inactive-SSH-Sessions-on-Server" data-for="notes/Operating-System/Linux/Killing-inactive-SSH-Sessions-on-Server">Killing inactive SSH Sessions on Server</a></li><li><a href="../../notes/Operating-System/Linux/Linux-Distributions-Adoption-Statistics" data-for="notes/Operating-System/Linux/Linux-Distributions-Adoption-Statistics">Linux Distributions Adoption Statistics</a></li><li><a href="../../notes/Operating-System/Linux/Linux-kernel-mailing-lists" data-for="notes/Operating-System/Linux/Linux-kernel-mailing-lists">Linux kernel mailing lists</a></li><li><a href="../../notes/Operating-System/Linux/Linux-TCP-SYN-Retransmission" data-for="notes/Operating-System/Linux/Linux-TCP-SYN-Retransmission">Linux TCP SYN Retransmission</a></li><li><a href="../../notes/Operating-System/Linux/List-Out-of-Tree-Modules-in-Linux" data-for="notes/Operating-System/Linux/List-Out-of-Tree-Modules-in-Linux">List Out-of-Tree Modules in Linux</a></li><li><a href="../../notes/Operating-System/Linux/Name-Resolution-on-Linux" data-for="notes/Operating-System/Linux/Name-Resolution-on-Linux">Name Resolution on Linux</a></li><li><a href="../../notes/Operating-System/Linux/NetworkManager" data-for="notes/Operating-System/Linux/NetworkManager">NetworkManager</a></li><li><a href="../../notes/Operating-System/Linux/nftables" data-for="notes/Operating-System/Linux/nftables">nftables</a></li><li><a href="../../notes/Operating-System/Linux/nsswitch.conf" data-for="notes/Operating-System/Linux/nsswitch.conf">nsswitch.conf</a></li><li><a href="../../notes/Operating-System/Linux/Partition-Table-and-Mounting-File-Systems" data-for="notes/Operating-System/Linux/Partition-Table-and-Mounting-File-Systems">Partition Table and Mounting File Systems</a></li><li><a href="../../notes/Operating-System/Linux/Rebasing-a-patched-Linux-kernel-on-openEuler-Copr-(EUR)" data-for="notes/Operating-System/Linux/Rebasing-a-patched-Linux-kernel-on-openEuler-Copr-(EUR)">Rebasing a patched Linux kernel on openEuler Copr (EUR)</a></li><li><a href="../../notes/Operating-System/Linux/SO_REUSEPORT" data-for="notes/Operating-System/Linux/SO_REUSEPORT">SO_REUSEPORT</a></li><li><a href="../../notes/Operating-System/Linux/syslogd" data-for="notes/Operating-System/Linux/syslogd">syslogd</a></li><li><a href="../../notes/Operating-System/Linux/SysRq-key" data-for="notes/Operating-System/Linux/SysRq-key">SysRq key</a></li><li><a href="../../notes/Operating-System/Linux/Systemd-Override" data-for="notes/Operating-System/Linux/Systemd-Override">Systemd Override</a></li><li><a href="../../notes/Operating-System/Linux/Systemd-Service-Hardening" data-for="notes/Operating-System/Linux/Systemd-Service-Hardening">Systemd Service Hardening</a></li><li><a href="../../notes/Operating-System/Linux/TCP-Client-SYN-Retries" data-for="notes/Operating-System/Linux/TCP-Client-SYN-Retries">TCP Client SYN Retries</a></li><li><a href="../../notes/Operating-System/Linux/TCP-Kernel-Parameters" data-for="notes/Operating-System/Linux/TCP-Kernel-Parameters">TCP Kernel Parameters</a></li><li><a href="../../notes/Operating-System/Linux/Verify-rpmfusion-signed-RPMs" data-for="notes/Operating-System/Linux/Verify-rpmfusion-signed-RPMs">Verify rpmfusion-signed RPMs</a></li><li><a href="../../notes/Operating-System/Linux/View-RPM-packge-info" data-for="notes/Operating-System/Linux/View-RPM-packge-info">View RPM packge info</a></li><li><a href="../../notes/Operating-System/Linux/When-to-send-RST-packets-on-close()" data-for="notes/Operating-System/Linux/When-to-send-RST-packets-on-close()">When to send RST packets on close()</a></li><li><a href="../../notes/Operating-System/Linux/yay" data-for="notes/Operating-System/Linux/yay">yay</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/Operating-System/macOS"><button class="folder-button"><span class="folder-title">macOS</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/Operating-System/macOS"><li><a href="../../notes/Operating-System/macOS/Download-macOS-installer" data-for="notes/Operating-System/macOS/Download-macOS-installer">Download macOS installer</a></li><li><a href="../../notes/Operating-System/macOS/Homebrew" data-for="notes/Operating-System/macOS/Homebrew">Homebrew</a></li><li><a href="../../notes/Operating-System/macOS/macOS-Disk-Space-Analysis" data-for="notes/Operating-System/macOS/macOS-Disk-Space-Analysis">macOS Disk Space Analysis</a></li><li><a href="../../notes/Operating-System/macOS/macOS-KeyChain-in-CLI-Tools" data-for="notes/Operating-System/macOS/macOS-KeyChain-in-CLI-Tools">macOS KeyChain in CLI Tools</a></li><li><a href="../../notes/Operating-System/macOS/Paravirtualized-Graphics" data-for="notes/Operating-System/macOS/Paravirtualized-Graphics">Paravirtualized Graphics</a></li><li><a href="../../notes/Operating-System/macOS/Touch-ID-for-sudo-on-macOS" data-for="notes/Operating-System/macOS/Touch-ID-for-sudo-on-macOS">Touch ID for sudo on macOS</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/Operating-System/NixOS"><button class="folder-button"><span class="folder-title">NixOS</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/Operating-System/NixOS"><li><a href="../../notes/Operating-System/NixOS/nixpkgs" data-for="notes/Operating-System/NixOS/nixpkgs">nixpkgs</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/Operating-System/OpenWRT"><button class="folder-button"><span class="folder-title">OpenWRT</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/Operating-System/OpenWRT"><li><a href="../../notes/Operating-System/OpenWRT/WiFi" data-for="notes/Operating-System/OpenWRT/WiFi">WiFi</a></li></ul></div></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/Privacy"><button class="folder-button"><span class="folder-title">Privacy</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/Privacy"><li><a href="../../notes/Privacy/Apple-Private-Relay" data-for="notes/Privacy/Apple-Private-Relay">Apple Private Relay</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/Self-Hosting"><button class="folder-button"><span class="folder-title">Self Hosting</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/Self-Hosting"><li><a href="../../notes/Self-Hosting/Litestream" data-for="notes/Self-Hosting/Litestream">Litestream</a></li><li><a href="../../notes/Self-Hosting/NAS-Solutions" data-for="notes/Self-Hosting/NAS-Solutions">NAS Solutions</a></li><li><a href="../../notes/Self-Hosting/Navidrome" data-for="notes/Self-Hosting/Navidrome">Navidrome</a></li><li><a href="../../notes/Self-Hosting/Push-Notifications-for-iOS" data-for="notes/Self-Hosting/Push-Notifications-for-iOS">Push Notifications for iOS</a></li><li><a href="../../notes/Self-Hosting/Self-Hosted-AFFiNE" data-for="notes/Self-Hosting/Self-Hosted-AFFiNE">Self-Hosted AFFiNE</a></li><li><a href="../../notes/Self-Hosting/Tailscale-Exit-Node" data-for="notes/Self-Hosting/Tailscale-Exit-Node">Tailscale Exit Node</a></li><li><a href="../../notes/Self-Hosting/Tailscale-TLS-Certificates" data-for="notes/Self-Hosting/Tailscale-TLS-Certificates">Tailscale TLS Certificates</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/Software"><button class="folder-button"><span class="folder-title">Software</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/Software"><li><a href="../../notes/Software/a-Shell" data-for="notes/Software/a-Shell">a-Shell</a></li><li><a href="../../notes/Software/Alternative-Storage-for-Prometheus" data-for="notes/Software/Alternative-Storage-for-Prometheus">Alternative Storage for Prometheus</a></li><li><a href="../../notes/Software/AltStore-Verification-Code" data-for="notes/Software/AltStore-Verification-Code">AltStore Verification Code</a></li><li><a href="../../notes/Software/Beancount-and-Fava" data-for="notes/Software/Beancount-and-Fava">Beancount and Fava</a></li><li><a href="../../notes/Software/Blink-based-SSH-Workstation" data-for="notes/Software/Blink-based-SSH-Workstation">Blink-based SSH Workstation</a></li><li><a href="../../notes/Software/CachyOS-in-UTM" data-for="notes/Software/CachyOS-in-UTM">CachyOS in UTM</a></li><li><a href="../../notes/Software/Compress-Picture-PDF-Files" data-for="notes/Software/Compress-Picture-PDF-Files">Compress Picture PDF Files</a></li><li><a href="../../notes/Software/Contributing-packages-on-conda-forge" data-for="notes/Software/Contributing-packages-on-conda-forge">Contributing packages on conda-forge</a></li><li><a href="../../notes/Software/Create-.ipa-files-without-a-developer-account" data-for="notes/Software/Create-.ipa-files-without-a-developer-account">Create .ipa files without a developer account</a></li><li><a href="../../notes/Software/EWS-Support-in-Thunderbird" data-for="notes/Software/EWS-Support-in-Thunderbird">EWS Support in Thunderbird</a></li><li><a href="../../notes/Software/Flowed-Text-in-Mutt" data-for="notes/Software/Flowed-Text-in-Mutt">Flowed Text in Mutt</a></li><li><a href="../../notes/Software/Fuzzing-yash" data-for="notes/Software/Fuzzing-yash">Fuzzing yash</a></li><li><a href="../../notes/Software/Ghostty" data-for="notes/Software/Ghostty">Ghostty</a></li><li><a href="../../notes/Software/HP-Smart-Scanning-Tips" data-for="notes/Software/HP-Smart-Scanning-Tips">HP Smart Scanning Tips</a></li><li><a href="../../notes/Software/Irssi-Config" data-for="notes/Software/Irssi-Config">Irssi Config</a></li><li><a href="../../notes/Software/iTerm2-Features" data-for="notes/Software/iTerm2-Features">iTerm2 Features</a></li><li><a href="../../notes/Software/Krita" data-for="notes/Software/Krita">Krita</a></li><li><a href="../../notes/Software/Layer-7-Load-Balancing-Solutions" data-for="notes/Software/Layer-7-Load-Balancing-Solutions">Layer 7 Load Balancing Solutions</a></li><li><a href="../../notes/Software/Netdata" data-for="notes/Software/Netdata">Netdata</a></li><li><a href="../../notes/Software/Nix-Channel-Status" data-for="notes/Software/Nix-Channel-Status">Nix Channel Status</a></li><li><a href="../../notes/Software/nix-env-Dependency-Tree" data-for="notes/Software/nix-env-Dependency-Tree">nix-env Dependency Tree</a></li><li><a href="../../notes/Software/Obsidian" data-for="notes/Software/Obsidian">Obsidian</a></li><li><a href="../../notes/Software/Remote-Linux-Desktop-on-macOS" data-for="notes/Software/Remote-Linux-Desktop-on-macOS">Remote Linux Desktop on macOS</a></li><li><a href="../../notes/Software/Sideloading-Blink-with-AltStore" data-for="notes/Software/Sideloading-Blink-with-AltStore">Sideloading Blink with AltStore</a></li><li><a href="../../notes/Software/Switch-Input-Source-on-macOS" data-for="notes/Software/Switch-Input-Source-on-macOS">Switch Input Source on macOS</a></li><li><a href="../../notes/Software/Terminal-Protocols" data-for="notes/Software/Terminal-Protocols">Terminal Protocols</a></li><li><a href="../../notes/Software/UTM" data-for="notes/Software/UTM">UTM</a></li><li><a href="../../notes/Software/VMware-Fusion-and-Workstation" data-for="notes/Software/VMware-Fusion-and-Workstation">VMware Fusion and Workstation</a></li><li><a href="../../notes/Software/WeeChat" data-for="notes/Software/WeeChat">WeeChat</a></li><li><a href="../../notes/Software/WeeChat-Config" data-for="notes/Software/WeeChat-Config">WeeChat Config</a></li><li><a href="../../notes/Software/Wireshark" data-for="notes/Software/Wireshark">Wireshark</a></li><li><a href="../../notes/Software/Xcode-Sanitizer-Support" data-for="notes/Software/Xcode-Sanitizer-Support">Xcode Sanitizer Support</a></li><li><a href="../../notes/Software/Zellij" data-for="notes/Software/Zellij">Zellij</a></li><li><a href="../../notes/Software/ZNC" data-for="notes/Software/ZNC">ZNC</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/SRE"><button class="folder-button"><span class="folder-title">SRE</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/SRE"><li><a href="../../notes/SRE/Alerting" data-for="notes/SRE/Alerting">Alerting</a></li><li><a href="../../notes/SRE/Blameless-Culture" data-for="notes/SRE/Blameless-Culture">Blameless Culture</a></li><li><a href="../../notes/SRE/Capacity-Planning" data-for="notes/SRE/Capacity-Planning">Capacity Planning</a></li><li><a href="../../notes/SRE/Change-Management" data-for="notes/SRE/Change-Management">Change Management</a></li><li><a href="../../notes/SRE/Eliminating-Toil" data-for="notes/SRE/Eliminating-Toil">Eliminating Toil</a></li><li><a href="../../notes/SRE/Emergency-Response" data-for="notes/SRE/Emergency-Response">Emergency Response</a></li><li><a href="../../notes/SRE/Error-Budget" data-for="notes/SRE/Error-Budget">Error Budget</a></li><li><a href="../../notes/SRE/Latency-Numbers" data-for="notes/SRE/Latency-Numbers">Latency Numbers</a></li><li><a href="../../notes/SRE/Managing-Incidents" data-for="notes/SRE/Managing-Incidents">Managing Incidents</a></li><li><a href="../../notes/SRE/Managing-Service-Risk" data-for="notes/SRE/Managing-Service-Risk">Managing Service Risk</a></li><li><a href="../../notes/SRE/Mandatory-Review" data-for="notes/SRE/Mandatory-Review">Mandatory Review</a></li><li><a href="../../notes/SRE/Measuring-Service-Risk" data-for="notes/SRE/Measuring-Service-Risk">Measuring Service Risk</a></li><li><a href="../../notes/SRE/Monitoring" data-for="notes/SRE/Monitoring">Monitoring</a></li><li><a href="../../notes/SRE/On-Call" data-for="notes/SRE/On-Call">On-Call</a></li><li><a href="../../notes/SRE/Postmortem" data-for="notes/SRE/Postmortem">Postmortem</a></li><li><a href="../../notes/SRE/Prodtest" data-for="notes/SRE/Prodtest">Prodtest</a></li><li><a href="../../notes/SRE/Public-Post-Mortems" data-for="notes/SRE/Public-Post-Mortems">Public Post-Mortems</a></li><li><a href="../../notes/SRE/Scream-Test" data-for="notes/SRE/Scream-Test">Scream Test</a></li><li><a href="../../notes/SRE/Service-Level-Indicator" data-for="notes/SRE/Service-Level-Indicator">Service Level Indicator</a></li><li><a href="../../notes/SRE/SLO" data-for="notes/SRE/SLO">SLO</a></li><li><a href="../../notes/SRE/Toil" data-for="notes/SRE/Toil">Toil</a></li><li><a href="../../notes/SRE/Troubleshooting" data-for="notes/SRE/Troubleshooting">Troubleshooting</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/Startup"><button class="folder-button"><span class="folder-title">Startup</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/Startup"><li><a href="../../notes/Startup/Earthly-CI-Postmortem" data-for="notes/Startup/Earthly-CI-Postmortem">Earthly CI Postmortem</a></li><li><a href="../../notes/Startup/How-To-Be-a-Manager" data-for="notes/Startup/How-To-Be-a-Manager">How To Be a Manager</a></li><li><a href="../../notes/Startup/One-Man-Full-Stack-Roadmap" data-for="notes/Startup/One-Man-Full-Stack-Roadmap">One-Man Full Stack Roadmap</a></li><li><a href="../../notes/Startup/Payment-Gateways-for-Individuals" data-for="notes/Startup/Payment-Gateways-for-Individuals">Payment Gateways for Individuals</a></li><li><a href="../../notes/Startup/SaaS-Product-Strategy-at-Tanda" data-for="notes/Startup/SaaS-Product-Strategy-at-Tanda">SaaS Product Strategy at Tanda</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/Storage"><button class="folder-button"><span class="folder-title">Storage</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/Storage"><li><a href="../../notes/Storage/USB-Hub-Power-Supply" data-for="notes/Storage/USB-Hub-Power-Supply">USB Hub Power Supply</a></li><li><a href="../../notes/Storage/ZFS" data-for="notes/Storage/ZFS">ZFS</a></li><li><a href="../../notes/Storage/ZFS-Compression-Test" data-for="notes/Storage/ZFS-Compression-Test">ZFS Compression Test</a></li><li><a href="../../notes/Storage/zstd-Compression" data-for="notes/Storage/zstd-Compression">zstd Compression</a></li></ul></div></li><li><a href="../../notes/Apple-Music" data-for="notes/Apple-Music">Apple Music</a></li><li><a href="../../notes/Programming" data-for="notes/Programming">Programming</a></li><li><a href="../../notes/Taking-Notes" data-for="notes/Taking-Notes">Taking Notes</a></li><li><a href="../../notes/Twitter" data-for="notes/Twitter">Twitter</a></li><li><a href="../../notes/Unicode" data-for="notes/Unicode">Unicode</a></li></ul></div></li><li><div class="folder-outer "><ul style="padding-left:0;" class="content" data-folderul></ul></div></li></ul></div></li><li id="explorer-end"></li></ul></div></div></div><div class="center"><div class="page-header"><div class="popover-hint"><nav class="breadcrumb-container" aria-label="breadcrumbs"><div class="breadcrumb-element"><a href="../../">Home</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../../notes/">notes</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../../notes/Nginx/">Nginx</a><p> ❯ </p></div><div class="breadcrumb-element"><a href>Nginx Code - Upstream Connect Timeout</a></div></nav><h1 class="article-title">Nginx Code - Upstream Connect Timeout</h1><p show-comma="true" class="content-meta"><time datetime="2024-07-13T00:00:00.000Z">Jul 13, 2024</time><span>4 min read</span></p><div><iframe class="gh-sponsor" src="https://github.com/sponsors/l2dy/button" title="Sponsor l2dy" height="32" width="114"></iframe></div></div></div><article class="popover-hint"><h2 id="searching-for-a-stack-trace">Searching for a “stack trace”<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#searching-for-a-stack-trace" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h3 id="situation-1-upstream-server-did-not-reply-to-our-syn-within-proxy_connect_timeout">Situation 1: upstream server did not reply to our SYN within <code>proxy_connect_timeout</code><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#situation-1-upstream-server-did-not-reply-to-our-syn-within-proxy_connect_timeout" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<pre><code>... upstream timed out (110: Connection timed out) while connection to upstream, ...
</code></pre>
<p>First, <code>proxy_connect_timeout</code> is used in <code>ngx_http_upstream_connect()</code> to set a timer on <code>c->write</code>.</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="c" data-theme="github-light github-dark"><code data-language="c" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (rc </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> NGX_AGAIN) {</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        ngx_add_timer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(c->write, u->conf->connect_timeout);</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span></code></pre></figure>
<p>Search for the string <code>&quot;upstream timed out&quot;</code> returns 4 matches in <code>src/http/ngx_http_upstream.c</code>, and we’d like to find out which function handles such timeouts.</p>
<p>Among the 4 functions, <code>ngx_http_upstream_process_upstream()</code> and <code>ngx_http_upstream_process_non_buffered_upstream()</code> are called in <code>ngx_http_upstream_send_response()</code>, which is only called after reading the response header.</p>
<p><code>ngx_http_upstream_process_upgraded()</code> is called for WebSocket upgrade, so we ignore that as well.</p>
<p>Then we focus on the remaining <code>ngx_http_upstream_next()</code>.</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="c" data-theme="github-light github-dark"><code data-language="c" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (ft_type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> NGX_HTTP_UPSTREAM_FT_TIMEOUT) {</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        ngx_log_error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(NGX_LOG_ERR, r->connection->log, NGX_ETIMEDOUT,</span></span>
<span data-line><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                      &quot;upstream timed out&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span></code></pre></figure>
<p>A new keyword <code>NGX_HTTP_UPSTREAM_FT_TIMEOUT</code>, this brings our focus to <code>ngx_http_upstream_send_request_handler()</code>.</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="c" data-theme="github-light github-dark"><code data-language="c" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (c</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">write</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">timedout) {</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        ngx_http_upstream_next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(r, u, NGX_HTTP_UPSTREAM_FT_TIMEOUT);</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span></code></pre></figure>
<p>On the other hand, let’s search for <code>&quot;connecting to upstream&quot;</code>, which is set in <code>c->log->action</code> and can be seen from the error log. There are 3 matches, but two of them has a different error text, e.g. <code>&quot;connect() failed&quot;</code>.</p>
<p>The last match is <code>ngx_http_upstream_connect()</code>. This function calls <code>ngx_event_connect_peer()</code> to establish a connection, and sets <code>u->write_event_handler</code> to <code>ngx_http_upstream_send_request_handler</code>.</p>
<p>Therefore, the function call chain is</p>
<p><code>ngx_http_upstream_connect()</code> <span>→</span> <code>ngx_event_connect_peer()</code> ^> <code>ngx_add_timer(c->write, u->conf->connect_timeout)</code> ^></p>
<p>event loop in <code>ngx_worker_process_cycle()</code> <span>→</span> <code>ngx_process_events_and_timers()</code> <span>→</span> <code>ngx_event_expire_timers()</code> <span>→</span> <code>ev->handler</code> =</p>
<p><code>c->write->handler</code> <span>→</span> <code>ngx_http_upstream_handler()</code> <span>→</span> <code>u->write_event_handler</code> <span>→</span> <code>ngx_http_upstream_send_request_handler()</code> <span>→</span> <code>ngx_http_upstream_next()</code> <span>→</span></p>
<ol>
<li><code>u->peer.free</code> <span>→</span> <code>ngx_http_upstream_free_round_robin_peer()</code> ^></li>
<li><code>ngx_log_error()</code> ^></li>
<li>(if no more tries) <code>ngx_http_upstream_finalize_request()</code> <span>→</span></li>
<li><code>ngx_close_connection()</code> <span>→</span> <code>ngx_close_socket()</code> i.e. <code>close()</code> ^></li>
<li><code>ngx_http_upstream_connect()</code> (retry next server)</li>
</ol>
<p>Note: ^> represents subsequent execution after returning to the caller function, and <span>→</span> is a function call or pointer dereference.</p>
<p>If connection succeeded, the timer will be reset to <code>send_timeout</code> or cleared.</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="c" data-theme="github-light github-dark"><code data-language="c" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">c</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">write</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ready </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> u</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">request_body_blocked) {</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            ngx_add_timer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(c->write, u->conf->send_timeout);</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (c</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">write</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">timer_set) {</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            ngx_del_timer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(c->write);</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span></code></pre></figure>
<h4 id="sequence-of-events">Sequence of events<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#sequence-of-events" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<ol>
<li><code>ngx_event_connect_peer()</code>: Connection is attempted.</li>
<li><code>ngx_http_upstream_handler()</code>: Event loop detects the timeout and calls this handler.</li>
<li><code>ngx_http_upstream_free_round_robin_peer()</code>: <code>fails</code> is accounted for and compared with <code>max_fails</code> to temporarily disable upstream servers.</li>
<li><code>ngx_log_error()</code>: “upstream timed out” is logged.</li>
<li><code>ngx_close_connection()</code>: old connection to upstream is closed.</li>
</ol>
<h3 id="situation-2-upstream-server-did-not-reply-to-our-syn-within-os-timeout">Situation 2: upstream server did not reply to our SYN within OS timeout<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#situation-2-upstream-server-did-not-reply-to-our-syn-within-os-timeout" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>When <code>ngx_event_connect_peer()</code> is called, both <code>c->read</code> and <code>c->write</code> are registered to the event loop.</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="c" data-theme="github-light github-dark"><code data-language="c" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    rc </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> connect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(s, pc</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-></span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">sockaddr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, pc</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-></span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">socklen</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ngx_add_event</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(rev, NGX_READ_EVENT, event) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> NGX_OK) {</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        goto</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> failed;</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (rc </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        /* NGX_EINPROGRESS */</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ngx_add_event</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(wev, NGX_WRITE_EVENT, event) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> NGX_OK) {</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            goto</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> failed;</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> NGX_AGAIN;</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span></code></pre></figure>
<p>Let’s see what <code>connect(2)</code> in System Calls Manual says about the comment <code>NGX_EINPROGRESS</code>.</p>
<blockquote>
<p>EINPROGRESS</p>
<p>The socket is nonblocking and the connection cannot be completed immediately. (UNIX domain sockets failed with EAGAIN instead.) It is possible to select(2) or poll(2) for completion by selecting the socket for writing. After select(2) indicates <strong>writability</strong>, use getsockopt(2) to read the SO_ERROR option at level SOL_SOCKET to determine whether connect() completed successfully (SO_ERROR is zero) or unsuccessfully (SO_ERROR is one of the usual error codes listed here, explaining the reason for the failure).</p>
</blockquote>
<p>In this case, epoll receives the error as a write event and calls its handler. <code>ngx_http_upstream_send_request_handler()</code> then calls <code>ngx_http_upstream_send_request()</code>, which calls <code>ngx_http_upstream_test_connect()</code> and detects the failure.</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="c" data-theme="github-light github-dark"><code data-language="c" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (flags </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> NGX_POST_EVENTS) {</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                queue </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rev->accept </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ngx_posted_accept_events</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                                    :</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ngx_posted_events;</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">                ngx_post_event</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(rev, queue);</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                rev-></span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">handler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(rev);</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span></code></pre></figure>
<p>In <code>ngx_http_upstream_test_connect()</code>, error is logged as “connect() failed” on Linux.</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="c" data-theme="github-light github-dark"><code data-language="c" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            c->log->action </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;connecting to upstream&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ngx_connection_error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(c, err, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;connect() failed&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> NGX_ERROR;</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span></code></pre></figure>
<p>Therefore, the function call chain is</p>
<p><code>ngx_http_upstream_connect()</code> <span>→</span> <code>ngx_event_connect_peer()</code> ^> <code>ngx_add_timer(c->write, u->conf->connect_timeout)</code> ^></p>
<p>event loop in <code>ngx_worker_process_cycle()</code> <span>→</span> <code>ngx_process_events_and_timers()</code> <span>→</span> <code>ngx_process_events()</code> = <code>ngx_epoll_process_events()</code> <span>→</span> <code>rev->handler</code> =</p>
<p><code>c->write->handler</code> <span>→</span> <code>ngx_http_upstream_handler()</code> <span>→</span> <code>u->write_event_handler</code>  <span>→</span> <code>ngx_http_upstream_send_request_handler()</code> <span>→</span></p>
<p><code>ngx_http_upstream_send_request()</code> <span>→</span></p>
<ul>
<li><code>ngx_http_upstream_test_connect()</code> <span>→</span> <code>ngx_connection_error()</code> ^></li>
<li><code>ngx_http_upstream_next()</code> <span>→</span> …</li>
</ul>
<h4 id="sequence-of-events-1">Sequence of events<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#sequence-of-events-1" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<ol>
<li><code>ngx_event_connect_peer()</code>: Connection is attempted.</li>
<li><code>ngx_http_upstream_handler()</code>: Event loop detects the error and calls this handler.</li>
<li><code>ngx_http_upstream_test_connect()</code>: check for failure and log “connect() failed”.</li>
<li><code>ngx_http_upstream_free_round_robin_peer()</code>: <code>fails</code> is accounted for and compared with <code>max_fails</code> to temporarily disable upstream servers.</li>
<li><code>ngx_close_connection()</code>: old connection to upstream is released.</li>
</ol>
<h3 id="notes">Notes<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#notes" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>A possibly better way to do this: set log level to debug, and simulate the connect timeout with a very low <code>proxy_connect_timeout</code>.</p>
<h2 id="references">References<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#references" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li><a href="https://github.com/nginx/nginx/blob/788e462c5b81f5f1aee475488e10f01680c530e9/src/http/ngx_http_upstream.c" class="external">https://github.com/nginx/nginx/blob/788e462c5b81f5f1aee475488e10f01680c530e9/src/http/ngx_http_upstream.c<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
</ul></article><hr/><div class="page-footer"></div></div><div class="right sidebar"><div class="graph"><h3>Graph View</h3><div class="graph-outer"><div id="graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:1,&quot;scale&quot;:1.1,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:false}"></div><button id="global-graph-icon" aria-label="Global Graph"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" fill="currentColor" xml:space="preserve"><path d="M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17
                s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4
                c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562
                C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829
                c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91
                v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4
                s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665
                C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2
                S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4
                s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2
                s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z"></path></svg></button></div><div id="global-graph-outer"><div id="global-graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:-1,&quot;scale&quot;:0.9,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:true}"></div></div></div><div class="toc desktop-only"><button type="button" id="toc" class aria-controls="toc-content" aria-expanded="true"><h3>Table of Contents</h3><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="toc-content" class><ul class="overflow"><li class="depth-0"><a href="#searching-for-a-stack-trace" data-for="searching-for-a-stack-trace">Searching for a “stack trace”</a></li><li class="depth-1"><a href="#situation-1-upstream-server-did-not-reply-to-our-syn-within-proxy_connect_timeout" data-for="situation-1-upstream-server-did-not-reply-to-our-syn-within-proxy_connect_timeout">Situation 1: upstream server did not reply to our SYN within proxy_connect_timeout</a></li><li class="depth-1"><a href="#situation-2-upstream-server-did-not-reply-to-our-syn-within-os-timeout" data-for="situation-2-upstream-server-did-not-reply-to-our-syn-within-os-timeout">Situation 2: upstream server did not reply to our SYN within OS timeout</a></li><li class="depth-1"><a href="#notes" data-for="notes">Notes</a></li><li class="depth-0"><a href="#references" data-for="references">References</a></li></ul></div></div></div><footer class><p>Created with <a href="https://quartz.jzhao.xyz/">Quartz v4.4.0</a> © 2025</p><ul><li><a href="https://github.com/l2dy">GitHub</a></li><li><a href="https://github.com/sponsors/l2dy">Sponsor me</a></li></ul></footer></div></div></body><script type="application/javascript">function c(){let t=this.parentElement;t.classList.toggle("is-collapsed");let l=t.classList.contains("is-collapsed")?this.scrollHeight:t.scrollHeight;t.style.maxHeight=l+"px";let o=t,e=t.parentElement;for(;e;){if(!e.classList.contains("callout"))return;let n=e.classList.contains("is-collapsed")?e.scrollHeight:e.scrollHeight+o.scrollHeight;e.style.maxHeight=n+"px",o=e,e=e.parentElement}}function i(){let t=document.getElementsByClassName("callout is-collapsible");for(let s of t){let l=s.firstElementChild;if(l){l.addEventListener("click",c),window.addCleanup(()=>l.removeEventListener("click",c));let e=s.classList.contains("is-collapsed")?l.scrollHeight:s.scrollHeight;s.style.maxHeight=e+"px"}}}document.addEventListener("nav",i);window.addEventListener("resize",i);
</script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/copy-tex.min.js" type="application/javascript"></script><script src="../../postscript.js" type="module"></script></html>